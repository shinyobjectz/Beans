{
  "version": "1.0.0",
  "description": "BEANS auto-hooks for code quality",
  
  "hooks": {
    "SessionStart": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "bd prime",
            "description": "Load beads context on session start"
          }
        ]
      }
    ],
    
    "PreCompact": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command", 
            "command": "bd prime",
            "description": "Preserve beads context before compaction"
          }
        ]
      }
    ],
    
    "PostEdit": [
      {
        "matcher": "**/*.{ts,tsx,js,jsx}",
        "hooks": [
          {
            "type": "subagent",
            "agent": "code-reviewer",
            "model": "claude-3-5-haiku-latest",
            "description": "Quick review on TypeScript/JavaScript edits",
            "condition": "file_size < 500"
          }
        ]
      },
      {
        "matcher": "**/*.py",
        "hooks": [
          {
            "type": "subagent",
            "agent": "code-reviewer",
            "model": "claude-3-5-haiku-latest",
            "description": "Quick review on Python edits"
          }
        ]
      }
    ],
    
    "PreCommit": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "bun lint --quiet",
            "description": "Run linter before commit"
          },
          {
            "type": "command",
            "command": "bun test --run",
            "description": "Run tests before commit"
          }
        ]
      }
    ],
    
    "TaskComplete": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "subagent",
            "agent": "test-engineer",
            "model": "claude-sonnet-4-20250514",
            "description": "Verify test coverage after task completion"
          },
          {
            "type": "command",
            "command": "bd sync",
            "description": "Sync beads state after task"
          }
        ]
      }
    ]
  },
  
  "subagentRouting": {
    "code-reviewer": {
      "default": "claude-sonnet-4-20250514",
      "quick": "claude-3-5-haiku-latest"
    },
    "test-engineer": {
      "default": "claude-sonnet-4-20250514"
    },
    "optimizer": {
      "default": "claude-sonnet-4-20250514"
    },
    "doc-generator": {
      "default": "claude-3-5-haiku-latest"
    },
    "integration-tester": {
      "default": "claude-sonnet-4-20250514"
    }
  }
}
